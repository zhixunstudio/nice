(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-607bf0c8"],{"227e":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"header-box"},[a("div",{staticClass:"main-center header-main"},[a("div",{staticClass:"header-logo"},[t._v("知迅Studio")]),a("div",{staticClass:"header-nav-box"},t._l(t.menuList,(function(e){return a("div",{key:e.id,staticClass:"header-nav",class:e.id==t.ins?" header-nav header-nav-on":"header-nav",on:{click:function(a){return t.toPush(2==e.id?"":e.path)}}},[t._v(" "+t._s(2==e.id&&t.titleName?t.titleName:e.name)+" ")])})),0),a("div",{staticClass:"header-exit-box"},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.toExit()}}},[t._v("退出登录")])],1)])])},i=[],r=(e("14d9"),{data(){return{menuList:[{id:1,name:"首页",path:"/"},{id:2,name:"填写",path:"/"},{id:5,name:"我的",path:"/my"}],userList:[{id:1,name:"首页",path:"/"},{id:2,name:"填写",path:"/"},{id:5,name:"我的",path:"/my"}],superList:[{id:1,name:"首页",path:"/"},{id:2,name:"填写",path:"/"},{id:3,name:"上传任务",path:"/uptask"},{id:4,name:"格式设置",path:"/"},{id:5,name:"我的",path:"/my"}],userName:""}},computed:{},created(){const t=JSON.parse(window.localStorage.getItem("userInfo")).user_role;this.userName=JSON.parse(window.localStorage.getItem("userInfo")).username,"fill"==t?this.menuList=this.userList:"all"!=t&&"超级管理"!=t&&"for"!=t&&"填写"!=t||(this.menuList=this.superList)},mounted(){},props:{ins:{type:Number,default:1},titleName:{type:String,default:"填写"}},methods:{toPush(t){t&&this.$router.push({path:t})},toExit(){window.localStorage.clear(),this.$router.push("/login")}}}),n=r,o=(e("6bee"),e("2877")),d=Object(o["a"])(n,s,i,!1,null,"3901f304",null);a["a"]=d.exports},"3e3c":function(t,a,e){},"6bee":function(t,a,e){"use strict";e("3e3c")},b1c7:function(t,a,e){"use strict";e("eab7")},c72e:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("TheHeader",{attrs:{ins:2,titleName:"书籍"}}),a("div",{staticClass:"main-center"},[a("div",{staticClass:"task-card-main"},[a("div",{staticClass:"task-cont-box"},[t._v(t._s(t.dataContet))]),a("div",{staticClass:"task-info-box"},[a("div",{staticClass:"task-input-box"},[a("div",{staticClass:"task-input-main"},[a("div",{staticClass:"task-input-title"},[t._v("请输入搜索内容")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:21},placeholder:"请输入"},model:{value:t.text,callback:function(a){t.text=a},expression:"text"}})],1),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"success"},on:{click:t.identify}},[t._v("处理")])],1)]),a("div",{staticClass:"task-form-box"},[a("div",{staticClass:"task-form-main"},[a("div",{staticClass:"task-from-row"},[a("div",{staticClass:"task-from-name"},[t._v("标题")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataFrom.title,callback:function(a){t.$set(t.dataFrom,"title",a)},expression:"dataFrom.title"}})],1),a("div",{staticClass:"task-from-row"},[a("div",{staticClass:"task-from-name"},[t._v("英文标题")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataFrom.enTitle,callback:function(a){t.$set(t.dataFrom,"enTitle",a)},expression:"dataFrom.enTitle"}})],1),a("div",{staticClass:"task-from-row"},[a("div",{staticClass:"task-from-name"},[t._v("作者")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataFrom.auter,callback:function(a){t.$set(t.dataFrom,"auter",a)},expression:"dataFrom.auter"}})],1),a("div",{staticClass:"task-from-row"},[a("div",{staticClass:"task-from-name"},[t._v("作者英")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataFrom.enAuter,callback:function(a){t.$set(t.dataFrom,"enAuter",a)},expression:"dataFrom.enAuter"}})],1),a("div",{staticClass:"task-from-row"},[a("div",{staticClass:"task-from-name"},[t._v("年份")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataFrom.year,callback:function(a){t.$set(t.dataFrom,"year",a)},expression:"dataFrom.year"}})],1),a("div",{staticClass:"task-from-row"},[a("div",{staticClass:"task-from-name"},[t._v("出版地")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataFrom.address,callback:function(a){t.$set(t.dataFrom,"address",a)},expression:"dataFrom.address"}})],1),a("div",{staticClass:"task-from-row"},[a("div",{staticClass:"task-from-name"},[t._v("出版地英")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataFrom.enAddress,callback:function(a){t.$set(t.dataFrom,"enAddress",a)},expression:"dataFrom.enAddress"}})],1),a("div",{staticClass:"task-from-row"},[a("div",{staticClass:"task-from-name"},[t._v("出版社")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataFrom.press,callback:function(a){t.$set(t.dataFrom,"press",a)},expression:"dataFrom.press"}})],1),a("div",{staticClass:"task-from-row"},[a("div",{staticClass:"task-from-name"},[t._v("出版社英")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataFrom.enPress,callback:function(a){t.$set(t.dataFrom,"enPress",a)},expression:"dataFrom.enPress"}})],1)]),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)])])])])],1)},i=[],r=(e("14d9"),e("227e")),n=e("365c"),o={data(){return{loading:!1,dataContet:"",roleCode:0,taskCount:"",text:"",itemId:"",id:"",dataFrom:{title:"",enTitle:"",auter:"",enAuter:"",year:"",address:"",enAddress:"",press:"",enPress:""}}},components:{TheHeader:r["a"]},created(){this.id=this.$route.query.id,this.itemId=this.$route.query.itemid,this.getDataList(this.itemId)},computed:{},mounted(){},methods:{getDataList(t){this.loading=!0,Object(n["x"])(t).then(t=>{this.loading=!1,200==t.code?this.dataContet=t.content:this.notify(t.msg?t.msg:"登录失败","error")}).catch(t=>{console.log(t),this.loading=!1})},identify(){this.loading=!0,Object(n["a"])({bibtex:this.text}).then(t=>{this.loading=!1,200==t.code?(t.au_msg&&this.$confirm(`请注意：${t.au_msg},`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),this.dataFrom.title=t.data.title,this.dataFrom.enTitle=t.data.entitle,this.dataFrom.auter=t.data.author_pinyin,this.dataFrom.enAuter=t.data.author,this.dataFrom.year=t.data.year,this.dataFrom.address=t.data.place,this.dataFrom.enAddress=t.data.enplace,this.dataFrom.press=t.data.publisher,this.dataFrom.enPress=t.data.enpublisher):this.notify(t.msg?t.msg:"处理失败","error")}).catch(t=>{this.loading=!1,console.log(t)})},submit(){const t=JSON.parse(window.localStorage.getItem("userInfo")).username;Object(n["b"])({title:this.dataFrom.title,entitle:this.dataFrom.enTitle,author:this.dataFrom.enAuter,author_pinyin:this.dataFrom.auter,year:this.dataFrom.year,place:this.dataFrom.address,enplace:this.dataFrom.enAddress,publisher:this.dataFrom.press,enpublisher:this.dataFrom.enPress},this.id,this.itemId,t).then(t=>{200==t.code?this.$confirm("数据提交成功！","恭喜您",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success",center:!0}).then(()=>{this.$router.push({path:"/"})}).catch(()=>{this.$router.push({path:"/"})}):this.notify(t.msg?t.msg:"处理失败","error")}).catch(t=>{console.log(t),this.loading=!1})},verification(){return""==this.dataFrom.title||void 0==this.dataFrom.title||void 0==this.dataFrom.title?(this.$confirm("“标题”未填写，请填写后再提交！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),!1):""==this.dataFrom.enTitle||void 0==this.dataFrom.enTitle?(this.$confirm("“英文标题”未填写，请填写后再提交！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),!1):""==this.dataFrom.auter||void 0==this.dataFrom.auter?(this.$confirm("“作者”未填写，请填写后再提交！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),!1):""==this.dataFrom.enAuter||void 0==this.dataFrom.enAuter?(this.$confirm("“作者英”未填写，请填写后再提交！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),!1):""==this.dataFrom.year||void 0==this.dataFrom.year?(this.$confirm("“年份”未填写，请填写后再提交！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),!1):""==this.dataFrom.address||void 0==this.dataFrom.address?(this.$confirm("“出版地”未填写，请填写后再提交！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),!1):""==this.dataFrom.enAddress||void 0==this.dataFrom.enAddress?(this.$confirm("“出版地英”未填写，请填写后再提交！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),!1):""==this.dataFrom.press||void 0==this.dataFrom.press?(this.$confirm("“出版社”未填写，请填写后再提交！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),!1):""==this.dataFrom.enPress||void 0==this.dataFrom.enPress?(this.$confirm("“出版社英”未填写，请填写后再提交！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}),!1):void this.submit()}}},d=o,c=(e("b1c7"),e("2877")),l=Object(c["a"])(d,s,i,!1,null,"7d46a81a",null);a["default"]=l.exports},eab7:function(t,a,e){}}]);
//# sourceMappingURL=chunk-607bf0c8.bb481a40.js.map