(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92aa19d2"],{"227e":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-box"},[e("div",{staticClass:"main-center header-main"},[e("div",{staticClass:"header-logo"},[t._v("知迅Studio")]),e("div",{staticClass:"header-nav-box"},t._l(t.menuList,(function(a){return e("div",{key:a.id,staticClass:"header-nav",class:a.id==t.ins?" header-nav header-nav-on":"header-nav",on:{click:function(e){return t.toPush(2==a.id?"":a.path)}}},[t._v(" "+t._s(2==a.id&&t.titleName?t.titleName:a.name)+" ")])})),0),e("div",{staticClass:"header-exit-box"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.toExit()}}},[t._v("退出登录")])],1)])])},i=[],o=(a("14d9"),{data(){return{menuList:[{id:1,name:"首页",path:"/"},{id:2,name:"填写",path:"/"},{id:5,name:"我的",path:"/my"}],userList:[{id:1,name:"首页",path:"/"},{id:2,name:"填写",path:"/"},{id:5,name:"我的",path:"/my"}],superList:[{id:1,name:"首页",path:"/"},{id:2,name:"填写",path:"/"},{id:3,name:"上传任务",path:"/uptask"},{id:4,name:"格式设置",path:"/"},{id:5,name:"我的",path:"/my"}],userName:""}},computed:{},created(){const t=JSON.parse(window.localStorage.getItem("userInfo")).user_role;this.userName=JSON.parse(window.localStorage.getItem("userInfo")).username,"fill"==t?this.menuList=this.userList:"all"!=t&&"超级管理"!=t&&"for"!=t&&"填写"!=t||(this.menuList=this.superList)},mounted(){},props:{ins:{type:Number,default:1},titleName:{type:String,default:"填写"}},methods:{toPush(t){t&&this.$router.push({path:t})},toExit(){window.localStorage.clear(),this.$router.push("/login")}}}),r=o,l=(a("6bee"),a("2877")),n=Object(l["a"])(r,s,i,!1,null,"3901f304",null);e["a"]=n.exports},"3e3c":function(t,e,a){},5668:function(t,e,a){"use strict";a("abc3")},"6bee":function(t,e,a){"use strict";a("3e3c")},abc3:function(t,e,a){},ce44:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("TheHeader",{attrs:{ins:3}}),e("div",{staticClass:"main-center"},[e("div",{staticClass:"task-card-main"},[e("div",{staticClass:"uptask-left-box"},[e("div",{staticClass:"uptask-form-row"},[e("div",{staticClass:"uptask-from-name"},[t._v("任务代号")]),e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataForm.id,callback:function(e){t.$set(t.dataForm,"id",e)},expression:"dataForm.id"}})],1),e("div",{staticClass:"uptask-form-row"},[e("div",{staticClass:"uptask-from-name"},[t._v("交付时间")]),e("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:t.getBirthDate},model:{value:t.dataForm.date,callback:function(e){t.$set(t.dataForm,"date",e)},expression:"dataForm.date"}})],1),e("div",{staticClass:"uptask-form-row"},[e("div",{staticClass:"uptask-from-name"},[t._v("源文件")]),e("div",{staticClass:"uptask-upload-box"},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","http-request":t.upload1Click,"on-preview":t.handlePreview1,"on-remove":t.handleRemove1,"before-remove":t.beforeRemove1,multiple:"",limit:1,"on-exceed":t.handleExceed1,"file-list":t.fileList1,submit:t.fileList1}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1)]),e("div",{staticClass:"uptask-form-row"},[e("div",{staticClass:"uptask-from-name"},[t._v("格式文件")]),e("div",{staticClass:"uptask-upload-box"},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","http-request":t.upload2Click,"on-preview":t.handlePreview2,"on-remove":t.handleRemove2,"before-remove":t.beforeRemove2,multiple:"",limit:3,"on-exceed":t.handleExceed2,"file-list":t.fileList2}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1)]),e("div",{staticClass:"uptask-form-row"},[e("div",{staticClass:"uptask-from-name"},[t._v("任务报酬")]),e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.dataForm.remuneration,callback:function(e){t.$set(t.dataForm,"remuneration",e)},expression:"dataForm.remuneration"}})],1),e("div",{staticClass:"uptask-form-row"},[e("div",{staticClass:"uptask-from-name"},[t._v("格式备注")]),e("el-input",{attrs:{type:"textarea",autosize:{minRows:7,maxRows:10},placeholder:"请输入内容"},model:{value:t.dataForm.remark,callback:function(e){t.$set(t.dataForm,"remark",e)},expression:"dataForm.remark"}})],1)]),e("div",{staticClass:"uptask-center-box"},[e("div",{staticClass:"uptask-center-textarea"},[e("el-input",{attrs:{type:"textarea",autosize:{minRows:24,maxRows:24},placeholder:"源信息"},model:{value:t.dataForm.source,callback:function(e){t.$set(t.dataForm,"source",e)},expression:"dataForm.source"}})],1),e("div",{staticClass:"uptask-center-btn"},[e("el-button",{attrs:{size:"small",type:"success"},on:{click:t.identify}},[t._v("处理")])],1)]),e("div",{staticClass:"uptask-right-box"},[e("div",{staticClass:"uptask-right-title"},[t._v(" 文献详情 ")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data}},[e("el-table-column",{attrs:{prop:"id",label:"序号",width:"150"}}),e("el-table-column",{attrs:{prop:"content",label:"文献内容"}})],1),e("div",{staticClass:"uptask-table-pages"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.tableData.length},on:{"current-change":t.handleCurrentChange}})],1)],1)]),e("div",{staticClass:"uptask-bottom-box"},[e("el-radio-group",{model:{value:t.dataForm.priority,callback:function(e){t.$set(t.dataForm,"priority",e)},expression:"dataForm.priority"}},[e("el-radio",{attrs:{label:t.BooleanJude(!1)}},[t._v("正常")]),e("el-radio",{attrs:{label:t.BooleanJude(!0)}},[t._v("加急")])],1),e("div",{staticClass:"uptask-bottom-btn"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)],1)])],1)},i=[],o=(a("14d9"),a("cee4")),r=a("227e"),l=a("365c"),n={data(){return{dataList:[],roleCode:0,taskCount:"",pageSize:8,currentPage:1,fileList1:[],fileList2:[],dataForm:{id:"",date:"",remuneration:"",remark:"",source:"",priority:!1},tableData:[{id:"",name:"",content:""}]}},components:{TheHeader:r["a"]},created(){},computed:{data(){return this.tableData.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize)}},mounted(){},methods:{getDataList(){Object(l["D"])().then(t=>{200==t.code?(this.dataList=t.data,this.roleCode=t.role_code,this.taskCount=t.task_count):this.notify(t.msg?t.msg:"登录失败","error")}).catch(t=>{console.log(t)})},identify(){Object(l["H"])({source:this.dataForm.source}).then(t=>{200==t.code?this.tableData=t.data:this.notify(t.msg?t.msg:"获取失败","error")}).catch(t=>{console.log(t)})},BooleanJude(t){let e="False";return"true"==t||1==t?e="True":"false"!=t&&0!=t||(e="False"),e},submit(){let t=new FormData;t.append("custom_id",this.dataForm.id),t.append("Finished_time",this.dataForm.date),t.append("sourcefile",this.fileList1[0]),t.append("formatfile",this.fileList2[0]),t.append("money",this.dataForm.remuneration),t.append("remarks",this.dataForm.remark),t.append("source",this.dataForm.source),t.append("priority",this.dataForm.priority),Object(o["a"])({method:"post",url:"http://119.91.38.178:8080/api/vueuploadtask/",data:t}).then(t=>{200==t.data.code?(console.log("2222"),this.$confirm("您已成功提交表单，是否前往首页？","恭喜您",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success",center:!0}).then(()=>{this.$router.push({path:"/"})}).catch(()=>{})):this.$message({message:t.data.msg?t.data.msg:"设置失败",type:"error"})})},handleCurrentChange(t){this.currentPage=t},getBirthDate(t){this.dataForm.date=t},handleSizeChange(){console.log("页面切换1")},currentChange(){console.log("页面切换2")},handleRemove1(t,e){console.log("hhhhh1:",t,e)},handleRemove2(t,e){console.log("hhhhh2:",t,e)},handlePreview1(t){console.log("1hhhhh:",t)},handlePreview2(t){console.log("2hhhhh:",t)},handleExceed1(t,e){this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${t.length} 个文件，共选择了 ${t.length+e.length} 个文件`)},handleExceed2(t,e){this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${t.length} 个文件，共选择了 ${t.length+e.length} 个文件`)},beforeRemove1(t,e){this.fileList1=[]},beforeRemove2(t,e){this.fileList2=[]},upload1Click(t,e){this.fileList1=[],this.fileList1.push(t.file)},upload2Click(t,e){this.fileList2=[],this.fileList2.push(t.file)}}},d=n,c=(a("5668"),a("2877")),u=Object(c["a"])(d,s,i,!1,null,"4c55ddde",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-92aa19d2.c2678e93.js.map